"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{60883:(e,t,n)=>{let r,i,o;var s=n(44134).Buffer;let f=(()=>{let e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return t=>e.call(t)})();function l(e){return"Uint8Array"===f(e)}function u(e){return"object"==typeof e&&null!=e&&Symbol.toStringTag in e&&("ArrayBuffer"===e[Symbol.toStringTag]||"SharedArrayBuffer"===e[Symbol.toStringTag])}function a(e){return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)}function h(e){return"object"==typeof e&&null!=e&&Symbol.toStringTag in e&&"Map"===e[Symbol.toStringTag]}function g(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?{$numberLong:`${t}`}:h(t)?Object.fromEntries(t):t)}let b=Symbol.for("@@mdb.bson.version"),d=0x8000000000000000-1,p=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class y extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e,t){super(e,t)}static isBSONError(e){return null!=e&&"object"==typeof e&&"bsonError"in e&&!0===e.bsonError&&"name"in e&&"message"in e&&"stack"in e}}class m extends y{get name(){return"BSONVersionError"}constructor(){super("Unsupported BSON version, bson types must be from bson 6.x.x")}}class w extends y{get name(){return"BSONRuntimeError"}constructor(e){super(e)}}class B extends y{get name(){return"BSONOffsetError"}constructor(e,t,n){super(`${e}. offset: ${t}`,n),this.offset=t}}function S(e,t,n,o){if(o){r??=new TextDecoder("utf8",{fatal:!0});try{return r.decode(e.subarray(t,n))}catch(e){throw new y("Invalid UTF-8 string in BSON document",{cause:e})}}return(i??=new TextDecoder("utf8",{fatal:!1})).decode(e.subarray(t,n))}function E(e,t,n){if(0===e.length)return"";let r=n-t;if(0===r)return"";if(r>20)return null;if(1===r&&e[t]<128)return String.fromCharCode(e[t]);if(2===r&&e[t]<128&&e[t+1]<128)return String.fromCharCode(e[t])+String.fromCharCode(e[t+1]);if(3===r&&e[t]<128&&e[t+1]<128&&e[t+2]<128)return String.fromCharCode(e[t])+String.fromCharCode(e[t+1])+String.fromCharCode(e[t+2]);let i=[];for(let r=t;r<n;r++){let t=e[r];if(t>127)return null;i.push(t)}return String.fromCharCode(...i)}function N(e){return O.fromNumberArray(Array.from({length:e},()=>Math.floor(256*Math.random())))}let O={toLocalBufferType(e){if(s.isBuffer(e))return e;if(ArrayBuffer.isView(e))return s.from(e.buffer,e.byteOffset,e.byteLength);let t=e?.[Symbol.toStringTag]??Object.prototype.toString.call(e);if("ArrayBuffer"===t||"SharedArrayBuffer"===t||"[object ArrayBuffer]"===t||"[object SharedArrayBuffer]"===t)return s.from(e);throw new y("Cannot create Buffer from the passed potentialBuffer.")},allocate:e=>s.alloc(e),allocateUnsafe:e=>s.allocUnsafe(e),equals:(e,t)=>O.toLocalBufferType(e).equals(t),fromNumberArray:e=>s.from(e),fromBase64:e=>s.from(e,"base64"),toBase64:e=>O.toLocalBufferType(e).toString("base64"),fromISO88591:e=>s.from(e,"binary"),toISO88591:e=>O.toLocalBufferType(e).toString("binary"),fromHex:e=>s.from(e,"hex"),toHex:e=>O.toLocalBufferType(e).toString("hex"),toUTF8(e,t,n,r){let i=n-t<=20?E(e,t,n):null;if(null!=i)return i;let o=O.toLocalBufferType(e).toString("utf8",t,n);if(r){for(let r=0;r<o.length;r++)if(65533===o.charCodeAt(r)){S(e,t,n,!0);break}}return o},utf8ByteLength:e=>s.byteLength(e,"utf8"),encodeUTF8Into(e,t,n){let r=function(e,t,n){if(0===t.length)return 0;if(t.length>25||e.length-n<t.length)return null;for(let r=0,i=n;r<t.length;r++,i++){let n=t.charCodeAt(r);if(n>127)return null;e[i]=n}return t.length}(e,t,n);return null!=r?r:O.toLocalBufferType(e).write(t,n,void 0,"utf8")},randomBytes:(()=>{try{return n(8777).randomBytes}catch{return N}})(),swap32:e=>O.toLocalBufferType(e).swap32()};function x(e){if(e<0)throw RangeError(`The argument 'byteLength' is invalid. Received ${e}`);return $.fromNumberArray(Array.from({length:e},()=>Math.floor(256*Math.random())))}let I=(()=>{let{crypto:e}=globalThis;if(null!=e&&"function"==typeof e.getRandomValues)return t=>e.getRandomValues($.allocate(t));if(function(){let{navigator:e}=globalThis;return"object"==typeof e&&"ReactNative"===e.product}()){let{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return x})(),_=/(\d|[a-f])/i,$={toLocalBufferType(e){let t=e?.[Symbol.toStringTag]??Object.prototype.toString.call(e);if("Uint8Array"===t)return e;if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));if("ArrayBuffer"===t||"SharedArrayBuffer"===t||"[object ArrayBuffer]"===t||"[object SharedArrayBuffer]"===t)return new Uint8Array(e);throw new y("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(e){if("number"!=typeof e)throw TypeError(`The "size" argument must be of type number. Received ${String(e)}`);return new Uint8Array(e)},allocateUnsafe:e=>$.allocate(e),equals(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},fromNumberArray:e=>Uint8Array.from(e),fromBase64:e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0)),toBase64:e=>btoa($.toISO88591(e)),fromISO88591:e=>Uint8Array.from(e,e=>255&e.charCodeAt(0)),toISO88591:e=>Array.from(Uint16Array.from(e),e=>String.fromCharCode(e)).join(""),fromHex(e){let t=e.length%2==0?e:e.slice(0,e.length-1),n=[];for(let e=0;e<t.length;e+=2){let r=t[e],i=t[e+1];if(!_.test(r)||!_.test(i))break;let o=Number.parseInt(`${r}${i}`,16);n.push(o)}return Uint8Array.from(n)},toHex:e=>Array.from(e,e=>e.toString(16).padStart(2,"0")).join(""),toUTF8(e,t,n,r){let i=n-t<=20?E(e,t,n):null;return null!=i?i:S(e,t,n,r)},utf8ByteLength:e=>new TextEncoder().encode(e).byteLength,encodeUTF8Into(e,t,n){let r=new TextEncoder().encode(t);return e.set(r,n),r.byteLength},randomBytes:I,swap32(e){if(e.length%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e.length;t+=4){let n=e[t],r=e[t+1],i=e[t+2],o=e[t+3];e[t]=o,e[t+1]=i,e[t+2]=r,e[t+3]=n}return e}},U="function"==typeof s&&s.prototype?._isBuffer!==!0?O:$;class L{get[b](){return 6}[Symbol.for("nodejs.util.inspect.custom")](e,t,n){return this.inspect(e,t,n)}}let T=new Float64Array(1),v=new Uint8Array(T.buffer,0,8);T[0]=-1;let A=0===v[7],j={isBigEndian:A,getNonnegativeInt32LE(e,t){if(e[t+3]>127)throw RangeError(`Size cannot be negative at offset: ${t}`);return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24},getInt32LE:(e,t)=>e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,getUint32LE:(e,t)=>e[t]+256*e[t+1]+65536*e[t+2]+0x1000000*e[t+3],getUint32BE:(e,t)=>e[t+3]+256*e[t+2]+65536*e[t+1]+0x1000000*e[t],getBigInt64LE(e,t){let n=BigInt(e[t+4]+256*e[t+5]+65536*e[t+6]+(e[t+7]<<24)),r=BigInt(e[t]+256*e[t+1]+65536*e[t+2]+0x1000000*e[t+3]);return(n<<BigInt(32))+r},getFloat64LE:A?(e,t)=>(v[7]=e[t],v[6]=e[t+1],v[5]=e[t+2],v[4]=e[t+3],v[3]=e[t+4],v[2]=e[t+5],v[1]=e[t+6],v[0]=e[t+7],T[0]):(e,t)=>(v[0]=e[t],v[1]=e[t+1],v[2]=e[t+2],v[3]=e[t+3],v[4]=e[t+4],v[5]=e[t+5],v[6]=e[t+6],v[7]=e[t+7],T[0]),setInt32BE:(e,t,n)=>(e[t+3]=n,n>>>=8,e[t+2]=n,n>>>=8,e[t+1]=n,n>>>=8,e[t]=n,4),setInt32LE:(e,t,n)=>(e[t]=n,n>>>=8,e[t+1]=n,n>>>=8,e[t+2]=n,n>>>=8,e[t+3]=n,4),setBigInt64LE(e,t,n){let r=BigInt(0xffffffff),i=Number(n&r);e[t]=i,i>>=8,e[t+1]=i,i>>=8,e[t+2]=i,i>>=8,e[t+3]=i;let o=Number(n>>BigInt(32)&r);return e[t+4]=o,o>>=8,e[t+5]=o,o>>=8,e[t+6]=o,o>>=8,e[t+7]=o,8},setFloat64LE:A?(e,t,n)=>(T[0]=n,e[t]=v[7],e[t+1]=v[6],e[t+2]=v[5],e[t+3]=v[4],e[t+4]=v[3],e[t+5]=v[2],e[t+6]=v[1],e[t+7]=v[0],8):(e,t,n)=>(T[0]=n,e[t]=v[0],e[t+1]=v[1],e[t+2]=v[2],e[t+3]=v[3],e[t+4]=v[4],e[t+5]=v[5],e[t+6]=v[6],e[t+7]=v[7],8)};class R extends L{get _bsontype(){return"Binary"}constructor(e,t){if(super(),null!=e&&"string"==typeof e&&!ArrayBuffer.isView(e)&&!u(e)&&!Array.isArray(e))throw new y("Binary can only be constructed from Uint8Array or number[]");this.sub_type=t??R.BSON_BINARY_SUBTYPE_DEFAULT,null==e?(this.buffer=U.allocate(R.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(e)?U.fromNumberArray(e):U.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){let t;if("string"==typeof e&&1!==e.length)throw new y("only accepts single character String");if("number"!=typeof e&&1!==e.length)throw new y("only accepts single character Uint8Array or Array");if((t="string"==typeof e?e.charCodeAt(0):"number"==typeof e?e:e[0])<0||t>255)throw new y("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=t;else{let e=U.allocate(R.BUFFER_SIZE+this.buffer.length);e.set(this.buffer,0),this.buffer=e,this.buffer[this.position++]=t}}write(e,t){if(t="number"==typeof t?t:this.position,this.buffer.byteLength<t+e.length){let t=U.allocate(this.buffer.byteLength+e.length);t.set(this.buffer,0),this.buffer=t}if(ArrayBuffer.isView(e))this.buffer.set(U.toLocalBufferType(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position;else if("string"==typeof e)throw new y("input cannot be string")}read(e,t){let n=e+(t=t&&t>0?t:this.position);return this.buffer.subarray(e,n>this.position?this.position:n)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return U.toBase64(this.buffer.subarray(0,this.position))}toString(e){return"hex"===e?U.toHex(this.buffer.subarray(0,this.position)):"base64"===e?U.toBase64(this.buffer.subarray(0,this.position)):U.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(e){e=e||{},this.sub_type===R.SUBTYPE_VECTOR&&F(this);let t=U.toBase64(this.buffer),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}}toUUID(){if(this.sub_type===R.SUBTYPE_UUID)return new C(this.buffer.subarray(0,this.position));throw new y(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${R.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,t){return new R(U.fromHex(e),t)}static createFromBase64(e,t){return new R(U.fromBase64(e),t)}static fromExtendedJSON(e,t){let n,r;if(t=t||{},"$binary"in e?t.legacy&&"string"==typeof e.$binary&&"$type"in e?(r=e.$type?parseInt(e.$type,16):0,n=U.fromBase64(e.$binary)):"string"!=typeof e.$binary&&(r=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=U.fromBase64(e.$binary.base64)):"$uuid"in e&&(r=4,n=C.bytesFromString(e.$uuid)),!n)throw new y(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return 4===r?new C(n):new R(n,r)}inspect(e,t,n){n??=c;let r=U.toBase64(this.buffer.subarray(0,this.position)),i=n(r,t),o=n(this.sub_type,t);return`Binary.createFromBase64(${i}, ${o})`}toInt8Array(){if(this.sub_type!==R.SUBTYPE_VECTOR)throw new y("Binary sub_type is not Vector");if(this.buffer[0]!==R.VECTOR_TYPE.Int8)throw new y("Binary datatype field is not Int8");return new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==R.SUBTYPE_VECTOR)throw new y("Binary sub_type is not Vector");if(this.buffer[0]!==R.VECTOR_TYPE.Float32)throw new y("Binary datatype field is not Float32");let e=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return j.isBigEndian&&U.swap32(e),new Float32Array(e.buffer)}toPackedBits(){if(this.sub_type!==R.SUBTYPE_VECTOR)throw new y("Binary sub_type is not Vector");if(this.buffer[0]!==R.VECTOR_TYPE.PackedBit)throw new y("Binary datatype field is not packed bit");return new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==R.SUBTYPE_VECTOR)throw new y("Binary sub_type is not Vector");if(this.buffer[0]!==R.VECTOR_TYPE.PackedBit)throw new y("Binary datatype field is not packed bit");let e=new Int8Array(8*(this.length()-2)-this.buffer[1]);for(let t=0;t<e.length;t++){let n=t/8|0,r=this.buffer[n+2]>>7-t%8&1;e[t]=r}return e}static fromInt8Array(e){let t=U.allocate(e.byteLength+2);t[0]=R.VECTOR_TYPE.Int8,t[1]=0;let n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return t.set(n,2),new this(t,this.SUBTYPE_VECTOR)}static fromFloat32Array(e){let t=U.allocate(e.byteLength+2);t[0]=R.VECTOR_TYPE.Float32,t[1]=0;let n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return t.set(n,2),j.isBigEndian&&U.swap32(new Uint8Array(t.buffer,2)),new this(t,this.SUBTYPE_VECTOR)}static fromPackedBits(e,t=0){let n=U.allocate(e.byteLength+2);return n[0]=R.VECTOR_TYPE.PackedBit,n[1]=t,n.set(e,2),new this(n,this.SUBTYPE_VECTOR)}static fromBits(e){let t=new Uint8Array((e.length+7>>>3)+2);t[0]=R.VECTOR_TYPE.PackedBit;let n=e.length%8;t[1]=0===n?0:8-n;for(let n=0;n<e.length;n++){let r=n>>>3,i=e[n];if(0!==i&&1!==i)throw new y(`Invalid bit value at ${n}: must be 0 or 1, found ${e[n]}`);if(0===i)continue;let o=7-n%8;t[r+2]|=i<<o}return new this(t,R.SUBTYPE_VECTOR)}}function F(e){if(e.sub_type!==R.SUBTYPE_VECTOR)return;let t=e.position,n=e.buffer[0],r=e.buffer[1];if((n===R.VECTOR_TYPE.Float32||n===R.VECTOR_TYPE.Int8)&&0!==r)throw new y("Invalid Vector: padding must be zero for int8 and float32 vectors");if(n===R.VECTOR_TYPE.PackedBit&&0!==r&&2===t)throw new y("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(n===R.VECTOR_TYPE.PackedBit&&r>7)throw new y(`Invalid Vector: padding must be a value between 0 and 7. found: ${r}`)}R.BSON_BINARY_SUBTYPE_DEFAULT=0,R.BUFFER_SIZE=256,R.SUBTYPE_DEFAULT=0,R.SUBTYPE_FUNCTION=1,R.SUBTYPE_BYTE_ARRAY=2,R.SUBTYPE_UUID_OLD=3,R.SUBTYPE_UUID=4,R.SUBTYPE_MD5=5,R.SUBTYPE_ENCRYPTED=6,R.SUBTYPE_COLUMN=7,R.SUBTYPE_SENSITIVE=8,R.SUBTYPE_VECTOR=9,R.SUBTYPE_USER_DEFINED=128,R.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});let D=/^[0-9A-F]{32}$/i,V=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class C extends R{constructor(e){let t;if(null==e)t=C.generate();else if(e instanceof C)t=U.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&16===e.byteLength)t=U.toLocalBufferType(e);else if("string"==typeof e)t=C.bytesFromString(e);else throw new y("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(t,4)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[U.toHex(this.buffer.subarray(0,4)),U.toHex(this.buffer.subarray(4,6)),U.toHex(this.buffer.subarray(6,8)),U.toHex(this.buffer.subarray(8,10)),U.toHex(this.buffer.subarray(10,16))].join("-"):U.toHex(this.buffer)}toString(e){return"hex"===e?U.toHex(this.id):"base64"===e?U.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof C)return U.equals(e.id,this.id);try{return U.equals(new C(e).id,this.id)}catch{return!1}}toBinary(){return new R(this.id,R.SUBTYPE_UUID)}static generate(){let e=U.randomBytes(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e}static isValid(e){return!!e&&("string"==typeof e?C.isValidUUIDString(e):l(e)?16===e.byteLength:"Binary"===e._bsontype&&e.sub_type===this.SUBTYPE_UUID&&16===e.buffer.byteLength)}static createFromHexString(e){let t=C.bytesFromString(e);return new C(t)}static createFromBase64(e){return new C(U.fromBase64(e))}static bytesFromString(e){if(!C.isValidUUIDString(e))throw new y("UUID string representation must be 32 hex digits or canonical hyphenated representation");return U.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return D.test(e)||V.test(e)}inspect(e,t,n){return n??=c,`new UUID(${n(this.toHexString(),t)})`}}class z extends L{get _bsontype(){return"Code"}constructor(e,t){super(),this.code=e.toString(),this.scope=t??null}toJSON(){return null!=this.scope?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new z(e.$code,e.$scope)}inspect(e,t,n){let r=(n??=c)(this.code,t),i=r.includes("\n");null!=this.scope&&(r+=`,${i?"\n":" "}${n(this.scope,t)}`);let o=i&&null===this.scope;return`new Code(${i?"\n":""}${r}${o?"\n":""})`}}function M(e){return null!=e&&"object"==typeof e&&"$id"in e&&null!=e.$id&&"$ref"in e&&"string"==typeof e.$ref&&(!("$db"in e)||"$db"in e&&"string"==typeof e.$db)}class P extends L{get _bsontype(){return"DBRef"}constructor(e,t,n,r){super();let i=e.split(".");2===i.length&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=t,this.db=n,this.fields=r||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){let e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))}static fromExtendedJSON(e){let t=Object.assign({},e);return delete t.$ref,delete t.$id,delete t.$db,new P(e.$ref,e.$id,e.$db,t)}inspect(e,t,n){let r=[(n??=c)(this.namespace,t),n(this.oid,t),...this.db?[n(this.db,t)]:[],...Object.keys(this.fields).length>0?[n(this.fields,t)]:[]];return r[1]=n===c?`new ObjectId(${r[1]})`:r[1],`new DBRef(${r.join(", ")})`}}function J(e){if(""===e)return e;let t=0,n="-"===e[0],r="+"===e[t];(r||n)&&(t+=1);let i=!1;for(;t<e.length&&"0"===e[t];++t)i=!0;return i?`${n?"-":""}${e.length===t?"0":e.slice(t)}`:r?e.slice(1):e}try{o=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}let k={},Y={},H=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class q extends L{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,t,n){super();let r="boolean"==typeof t?t:!!n,i="string"==typeof e?q.fromString(e,r):"bigint"==typeof e?q.fromBigInt(e,r):{low:0|e,high:0|("number"==typeof t?t:0),unsigned:r};this.low=i.low,this.high=i.high,this.unsigned=i.unsigned}static fromBits(e,t,n){return new q(e,t,n)}static fromInt(e,t){let n,r,i;if(t)return(e>>>=0,(i=0<=e&&e<256)&&(r=Y[e]))?r:(n=q.fromBits(e,(0|e)<0?-1:0,!0),i&&(Y[e]=n),n);return(e|=0,(i=-128<=e&&e<128)&&(r=k[e]))?r:(n=q.fromBits(e,e<0?-1:0,!1),i&&(k[e]=n),n)}static fromNumber(e,t){if(isNaN(e))return t?q.UZERO:q.ZERO;if(t){if(e<0)return q.UZERO;if(e>=0xffffffffffffffff)return q.MAX_UNSIGNED_VALUE}else{if(e<=-0x8000000000000000)return q.MIN_VALUE;if(e+1>=0x8000000000000000)return q.MAX_VALUE}return e<0?q.fromNumber(-e,t).neg():q.fromBits(e%0x100000000|0,e/0x100000000|0,t)}static fromBigInt(e,t){let n=BigInt(0xffffffff),r=BigInt(32);return new q(Number(e&n),Number(e>>r&n),t)}static _fromString(e,t,n){let r;if(0===e.length)throw new y("empty string");if(n<2||36<n)throw new y("radix");if((r=e.indexOf("-"))>0)throw new y("interior hyphen");if(0===r)return q._fromString(e.substring(1),t,n).neg();let i=q.fromNumber(Math.pow(n,8)),o=q.ZERO;for(let t=0;t<e.length;t+=8){let r=Math.min(8,e.length-t),s=parseInt(e.substring(t,t+r),n);if(r<8){let e=q.fromNumber(Math.pow(n,r));o=o.mul(e).add(q.fromNumber(s))}else o=(o=o.mul(i)).add(q.fromNumber(s))}return o.unsigned=t,o}static fromStringStrict(e,t,n){let r=!1;if("number"==typeof t?(n=t,t=!1):r=!!t,n??=10,e.trim()!==e)throw new y(`Input: '${e}' contains leading and/or trailing whitespace`);if(!function(e,t){t=t??10;let n="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,t);return!RegExp(`[^-+${n}]`,"i").test(e)&&e}(e,n))throw new y(`Input: '${e}' contains invalid characters for radix: ${n}`);let i=J(e),o=q._fromString(i,r,n);if(o.toString(n).toLowerCase()!==i.toLowerCase())throw new y(`Input: ${e} is not representable as ${o.unsigned?"an unsigned":"a signed"} 64-bit Long ${null!=n?`with radix: ${n}`:""}`);return o}static fromString(e,t,n){let r=!1;return("number"==typeof t?(n=t,t=!1):r=!!t,n??=10,"NaN"===e&&n<24||("Infinity"===e||"+Infinity"===e||"-Infinity"===e)&&n<35)?q.ZERO:q._fromString(e,r,n)}static fromBytes(e,t,n){return n?q.fromBytesLE(e,t):q.fromBytesBE(e,t)}static fromBytesLE(e,t){return new q(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}static fromBytesBE(e,t){return new q(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}static isLong(e){return null!=e&&"object"==typeof e&&"__isLong__"in e&&!0===e.__isLong__}static fromValue(e,t){return"number"==typeof e?q.fromNumber(e,t):"string"==typeof e?q.fromString(e,t):q.fromBits(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}add(e){q.isLong(e)||(e=q.fromValue(e));let t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,f=e.low>>>16,l=65535&e.low,u=0,a=0,h,g;return h=0+((g=0+(i+l))>>>16),g&=65535,h+=r+f,a+=h>>>16,h&=65535,a+=n+s,u+=a>>>16,a&=65535,u+=t+o,u&=65535,q.fromBits(h<<16|g,u<<16|a,this.unsigned)}and(e){return q.isLong(e)||(e=q.fromValue(e)),q.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(q.isLong(e)||(e=q.fromValue(e)),this.eq(e))return 0;let t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){let t,n,r;if(q.isLong(e)||(e=q.fromValue(e)),e.isZero())throw new y("division by zero");if(o){if(!this.unsigned&&-0x80000000===this.high&&-1===e.low&&-1===e.high)return this;let t=(this.unsigned?o.div_u:o.div_s)(this.low,this.high,e.low,e.high);return q.fromBits(t,o.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?q.UZERO:q.ZERO;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return q.UZERO;if(e.gt(this.shru(1)))return q.UONE;r=q.UZERO}else{if(this.eq(q.MIN_VALUE))if(e.eq(q.ONE)||e.eq(q.NEG_ONE))return q.MIN_VALUE;else return e.eq(q.MIN_VALUE)?q.ONE:(t=this.shr(1).div(e).shl(1)).eq(q.ZERO)?e.isNegative()?q.ONE:q.NEG_ONE:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(q.MIN_VALUE))return this.unsigned?q.UZERO:q.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=q.ZERO}for(n=this;n.gte(e);){let i=Math.ceil(Math.log(t=Math.max(1,Math.floor(n.toNumber()/e.toNumber())))/Math.LN2),o=i<=48?1:Math.pow(2,i-48),s=q.fromNumber(t),f=s.mul(e);for(;f.isNegative()||f.gt(n);)t-=o,f=(s=q.fromNumber(t,this.unsigned)).mul(e);s.isZero()&&(s=q.ONE),r=r.add(s),n=n.sub(f)}return r}div(e){return this.divide(e)}equals(e){return q.isLong(e)||(e=q.fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){let e;if(this.isNegative())return this.eq(q.MIN_VALUE)?64:this.neg().getNumBitsAbs();let t=0!==this.high?this.high:this.low;for(e=31;e>0&&(t&1<<e)==0;e--);return 0!==this.high?e+33:e+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return(1&this.low)==0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(1&this.low)==1}isPositive(){return this.unsigned||this.high>=0}isZero(){return 0===this.high&&0===this.low}lessThan(e){return 0>this.comp(e)}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return 0>=this.comp(e)}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(q.isLong(e)||(e=q.fromValue(e)),o){let t=(this.unsigned?o.rem_u:o.rem_s)(this.low,this.high,e.low,e.high);return q.fromBits(t,o.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return q.ZERO;if(q.isLong(e)||(e=q.fromValue(e)),o){let t=o.mul(this.low,this.high,e.low,e.high);return q.fromBits(t,o.get_high(),this.unsigned)}if(e.isZero())return q.ZERO;if(this.eq(q.MIN_VALUE))return e.isOdd()?q.MIN_VALUE:q.ZERO;if(e.eq(q.MIN_VALUE))return this.isOdd()?q.MIN_VALUE:q.ZERO;if(this.isNegative())if(e.isNegative())return this.neg().mul(e.neg());else return this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(q.TWO_PWR_24)&&e.lt(q.TWO_PWR_24))return q.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);let t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,s=e.high>>>16,f=65535&e.high,l=e.low>>>16,u=65535&e.low,a=0,h=0,g,c;return g=0+((c=0+i*u)>>>16),c&=65535,g+=r*u,h+=g>>>16,g&=65535,g+=i*l,h+=g>>>16,g&=65535,h+=n*u,a+=h>>>16,h&=65535,h+=r*l,a+=h>>>16,h&=65535,h+=i*f,a+=h>>>16,h&=65535,a+=t*u+n*l+r*f+i*s,a&=65535,q.fromBits(g<<16|c,a<<16|h,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(q.MIN_VALUE)?q.MIN_VALUE:this.not().add(q.ONE)}neg(){return this.negate()}not(){return q.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return q.isLong(e)||(e=q.fromValue(e)),q.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return(q.isLong(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?q.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):q.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return(q.isLong(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?q.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):q.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(q.isLong(e)&&(e=e.toInt()),0==(e&=63))return this;{let t=this.high;if(e<32){let n=this.low;return q.fromBits(n>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?q.fromBits(t,0,this.unsigned):q.fromBits(t>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return q.isLong(e)||(e=q.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*0x100000000+(this.low>>>0):0x100000000*this.high+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){let e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]}toSigned(){return this.unsigned?q.fromBits(this.low,this.high,!1):this}toString(e){if((e=e||10)<2||36<e)throw new y("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(q.MIN_VALUE))return"-"+this.neg().toString(e);else{let t=q.fromNumber(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}let t=q.fromNumber(Math.pow(e,6),this.unsigned),n=this,r="";for(;;){let i=n.div(t),o=(n.sub(i.mul(t)).toInt()>>>0).toString(e);if((n=i).isZero())return o+r;for(;o.length<6;)o="0"+o;r=""+o+r}}toUnsigned(){return this.unsigned?this:q.fromBits(this.low,this.high,!0)}xor(e){return q.isLong(e)||(e=q.fromValue(e)),q.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,t){let{useBigInt64:n=!1,relaxed:r=!0}={...t};if(e.$numberLong.length>20)throw new y("$numberLong string is too long");if(!H.test(e.$numberLong))throw new y(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(n)return BigInt.asIntN(64,BigInt(e.$numberLong));let i=q.fromString(e.$numberLong);return r?i.toNumber():i}inspect(e,t,n){let r=(n??=c)(this.toString(),t),i=this.unsigned?`, ${n(this.unsigned,t)}`:"";return`new Long(${r}${i})`}}q.TWO_PWR_24=q.fromInt(0x1000000),q.MAX_UNSIGNED_VALUE=q.fromBits(-1,-1,!0),q.ZERO=q.fromInt(0),q.UZERO=q.fromInt(0,!0),q.ONE=q.fromInt(1),q.UONE=q.fromInt(1,!0),q.NEG_ONE=q.fromInt(-1),q.MAX_VALUE=q.fromBits(-1,0x7fffffff,!1),q.MIN_VALUE=q.fromBits(0,-0x80000000,!1);let Z=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,K=/^(\+|-)?(Infinity|inf)$/i,W=/^(\+|-)?NaN$/i,G=U.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),X=U.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Q=U.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),ee=/^([-+])?(\d+)?$/;function et(e){return!isNaN(parseInt(e,10))}function en(e,t){throw new y(`"${e}" is not a valid Decimal128 string - ${t}`)}class er extends L{get _bsontype(){return"Decimal128"}constructor(e){if(super(),"string"==typeof e)this.bytes=er.fromString(e).bytes;else if(e instanceof Uint8Array||l(e)){if(16!==e.byteLength)throw new y("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new y("Decimal128 must take a Buffer or string")}static fromString(e){return er._fromString(e,{allowRounding:!1})}static fromStringWithRounding(e){return er._fromString(e,{allowRounding:!0})}static _fromString(e,t){let n=!1,r=!1,i=!1,o=!1,s=0,f=0,l=0,u=0,a=0,h=[0],g=0,c=0,b=0,d=0,p=new q(0,0),m=new q(0,0),w=0,B=0;if(e.length>=7e3)throw new y(""+e+" not a valid Decimal128 string");let S=e.match(Z),E=e.match(K),N=e.match(W);if(!S&&!E&&!N||0===e.length)throw new y(""+e+" not a valid Decimal128 string");if(S){let t=S[2],n=S[4],r=S[5],i=S[6];n&&void 0===i&&en(e,"missing exponent power"),n&&void 0===t&&en(e,"missing exponent base"),void 0===n&&(r||i)&&en(e,"missing e before exponent")}if(("+"===e[B]||"-"===e[B])&&(r=!0,n="-"===e[B++]),!et(e[B])&&"."!==e[B]){if("i"===e[B]||"I"===e[B])return new er(n?X:Q);else if("N"===e[B])return new er(G)}for(;et(e[B])||"."===e[B];){if("."===e[B]){i&&en(e,"contains multiple periods"),i=!0,B+=1;continue}g<34&&("0"!==e[B]||o)&&(o||(a=f),o=!0,h[c++]=parseInt(e[B],10),g+=1),o&&(l+=1),i&&(u+=1),f+=1,B+=1}if(i&&!f)throw new y(""+e+" not a valid Decimal128 string");if("e"===e[B]||"E"===e[B]){let t=e.substr(++B).match(ee);if(!t||!t[2])return new er(G);d=parseInt(t[0],10),B+=t[0].length}if(e[B])return new er(G);if(g){if(b=g-1,1!==(s=l))for(;"0"===e[a+s-1+Number(r)+Number(i)];)s-=1}else h[0]=0,l=1,g=1,s=0;for(d<=u&&u>d+16384?d=-6176:d-=u;d>6111;){if((b+=1)>=34){if(0===s){d=6111;break}en(e,"overflow")}d-=1}if(t.allowRounding){for(;d<-6176||g<l;){if(0===b&&s<g){d=-6176,s=0;break}if(g<l?l-=1:b-=1,d<6111)d+=1;else{if(h.join("").match(/^0+$/)){d=6111;break}en(e,"overflow")}}if(b+1<s){let t=f;i&&(a+=1,t+=1),r&&(a+=1,t+=1);let o=parseInt(e[a+b+1],10),s=0;if(o>=5&&(s=1,5===o)){s=+(h[b]%2==1);for(let n=a+b+2;n<t;n++)if(parseInt(e[n],10)){s=1;break}}if(s){let e=b;for(;e>=0;e--)if(++h[e]>9){if(h[e]=0,0===e)if(!(d<6111))return new er(n?X:Q);else d+=1,h[e]=1}else break}}}else{for(;d<-6176||g<l;){if(0===b){if(0===s){d=-6176;break}en(e,"exponent underflow")}g<l?("0"!==e[l-1+Number(r)+Number(i)]&&0!==s&&en(e,"inexact rounding"),l-=1):(0!==h[b]&&en(e,"inexact rounding"),b-=1),d<6111?d+=1:en(e,"overflow")}b+1<s&&(i&&(a+=1),r&&(a+=1),0!==parseInt(e[a+b+1],10)&&en(e,"inexact rounding"))}if(p=q.fromNumber(0),m=q.fromNumber(0),0===s)p=q.fromNumber(0),m=q.fromNumber(0);else if(b<17){let e=0;for(m=q.fromNumber(h[e++]),p=new q(0,0);e<=b;e++)m=(m=m.multiply(q.fromNumber(10))).add(q.fromNumber(h[e]))}else{let e=0;for(p=q.fromNumber(h[e++]);e<=b-17;e++)p=(p=p.multiply(q.fromNumber(10))).add(q.fromNumber(h[e]));for(m=q.fromNumber(h[e++]);e<=b;e++)m=(m=m.multiply(q.fromNumber(10))).add(q.fromNumber(h[e]))}let O=function(e,t){if(!e&&!t)return{high:q.fromNumber(0),low:q.fromNumber(0)};let n=e.shiftRightUnsigned(32),r=new q(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new q(t.getLowBits(),0),s=n.multiply(i),f=n.multiply(o),l=r.multiply(i),u=r.multiply(o);return s=s.add(f.shiftRightUnsigned(32)),f=new q(f.getLowBits(),0).add(l).add(u.shiftRightUnsigned(32)),{high:s=s.add(f.shiftRightUnsigned(32)),low:u=f.shiftLeft(32).add(new q(u.getLowBits(),0))}}(p,q.fromString("100000000000000000"));O.low=O.low.add(m),function(e,t){let n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r&&e.low>>>0<t.low>>>0)return!0;return!1}(O.low,m)&&(O.high=O.high.add(q.fromNumber(1))),w=d+6176;let x={low:q.fromNumber(0),high:q.fromNumber(0)};O.high.shiftRightUnsigned(49).and(q.fromNumber(1)).equals(q.fromNumber(1))?(x.high=x.high.or(q.fromNumber(3).shiftLeft(61)),x.high=x.high.or(q.fromNumber(w).and(q.fromNumber(16383).shiftLeft(47))),x.high=x.high.or(O.high.and(q.fromNumber(0x7fffffffffff)))):(x.high=x.high.or(q.fromNumber(16383&w).shiftLeft(49)),x.high=x.high.or(O.high.and(q.fromNumber(0x1ffffffffffff)))),x.low=O.low,n&&(x.high=x.high.or(q.fromString("9223372036854775808")));let I=U.allocateUnsafe(16);return B=0,I[B++]=255&x.low.low,I[B++]=x.low.low>>8&255,I[B++]=x.low.low>>16&255,I[B++]=x.low.low>>24&255,I[B++]=255&x.low.high,I[B++]=x.low.high>>8&255,I[B++]=x.low.high>>16&255,I[B++]=x.low.high>>24&255,I[B++]=255&x.high.low,I[B++]=x.high.low>>8&255,I[B++]=x.high.low>>16&255,I[B++]=x.high.low>>24&255,I[B++]=255&x.high.high,I[B++]=x.high.high>>8&255,I[B++]=x.high.high>>16&255,I[B++]=x.high.high>>24&255,new er(I)}toString(){let e,t,n,r,i=0,o=Array(36);for(let e=0;e<o.length;e++)o[e]=0;let s=0,f=!1,l={parts:[0,0,0,0]},u=[];s=0;let a=this.bytes,h=a[s++]|a[s++]<<8|a[s++]<<16|a[s++]<<24,g=a[s++]|a[s++]<<8|a[s++]<<16|a[s++]<<24,c=a[s++]|a[s++]<<8|a[s++]<<16|a[s++]<<24,b=a[s++]|a[s++]<<8|a[s++]<<16|a[s++]<<24;s=0,({low:new q(h,g),high:new q(c,b)}).high.lessThan(q.ZERO)&&u.push("-");let d=b>>26&31;if(d>>3==3)if(30===d)return u.join("")+"Infinity";else{if(31===d)return"NaN";e=b>>15&16383,t=8+(b>>14&1)}else t=b>>14&7,e=b>>17&16383;let p=e-6176;if(l.parts[0]=(16383&b)+((15&t)<<14),l.parts[1]=c,l.parts[2]=g,l.parts[3]=h,0===l.parts[0]&&0===l.parts[1]&&0===l.parts[2]&&0===l.parts[3])f=!0;else for(r=3;r>=0;r--){let e=0,t=function(e){let t=q.fromNumber(1e9),n=q.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(let r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new q(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}(l);if(l=t.quotient,e=t.rem.low)for(n=8;n>=0;n--)o[9*r+n]=e%10,e=Math.floor(e/10)}if(f)i=1,o[s]=0;else for(i=36;!o[s];)i-=1,s+=1;let y=i-1+p;if(y>=34||y<=-7||p>0){if(i>34)return u.push("0"),p>0?u.push(`E+${p}`):p<0&&u.push(`E${p}`),u.join("");u.push(`${o[s++]}`),(i-=1)&&u.push(".");for(let e=0;e<i;e++)u.push(`${o[s++]}`);u.push("E"),y>0?u.push(`+${y}`):u.push(`${y}`)}else if(p>=0)for(let e=0;e<i;e++)u.push(`${o[s++]}`);else{let e=i+p;if(e>0)for(let t=0;t<e;t++)u.push(`${o[s++]}`);else u.push("0");for(u.push(".");e++<0;)u.push("0");for(let t=0;t<i-Math.max(e-1,0);t++)u.push(`${o[s++]}`)}return u.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return er.fromString(e.$numberDecimal)}inspect(e,t,n){let r=(n??=c)(this.toString(),t);return`new Decimal128(${r})`}}class ei extends L{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}static fromString(e){let t=Number(e);if("NaN"===e)return new ei(NaN);if("Infinity"===e)return new ei(1/0);if("-Infinity"===e)return new ei(-1/0);if(!Number.isFinite(t))throw new y(`Input: ${e} is not representable as a Double`);if(e.trim()!==e)throw new y(`Input: '${e}' contains whitespace`);if(""===e)throw new y("Input is an empty string");if(/[^-0-9.+eE]/.test(e))throw new y(`Input: '${e}' is not in decimal or exponential notation`);return new ei(t)}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,t){let n=parseFloat(e.$numberDouble);return t&&t.relaxed?n:new ei(n)}inspect(e,t,n){return n??=c,`new Double(${n(this.value,t)})`}}class eo extends L{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=0|e}static fromString(e){let t=J(e),n=Number(e);if(0x7fffffff<n)throw new y(`Input: '${e}' is larger than the maximum value for Int32`);if(-0x80000000>n)throw new y(`Input: '${e}' is smaller than the minimum value for Int32`);if(Number.isSafeInteger(n)){if(n.toString()!==t)throw new y(`Input: '${e}' is not a valid Int32 string`)}else throw new y(`Input: '${e}' is not a safe integer`);return new eo(n)}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,t){return t&&t.relaxed?parseInt(e.$numberInt,10):new eo(e.$numberInt)}inspect(e,t,n){return n??=c,`new Int32(${n(this.value,t)})`}}class es extends L{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new es}inspect(){return"new MaxKey()"}}class ef extends L{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new ef}inspect(){return"new MinKey()"}}let el=null,eu=new WeakMap;class ea extends L{get _bsontype(){return"ObjectId"}constructor(e){let t;if(super(),"object"==typeof e&&e&&"id"in e){if("string"!=typeof e.id&&!ArrayBuffer.isView(e.id))throw new y("Argument passed in must have an id that is of type string or Buffer");t="toHexString"in e&&"function"==typeof e.toHexString?U.fromHex(e.toHexString()):e.id}else t=e;if(null==t||"number"==typeof t)this.buffer=ea.generate("number"==typeof t?t:void 0);else if(ArrayBuffer.isView(t)&&12===t.byteLength)this.buffer=U.toLocalBufferType(t);else if("string"==typeof t)if(ea.validateHexString(t))this.buffer=U.fromHex(t),ea.cacheHexString&&eu.set(this,t);else throw new y("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new y("Argument passed in does not match the accepted types")}get id(){return this.buffer}set id(e){this.buffer=e,ea.cacheHexString&&eu.set(this,U.toHex(e))}static validateHexString(e){if(e?.length!==24)return!1;for(let t=0;t<24;t++){let n=e.charCodeAt(t);if((!(n>=48)||!(n<=57))&&(!(n>=97)||!(n<=102))&&(!(n>=65)||!(n<=70)))return!1}return!0}toHexString(){if(ea.cacheHexString){let e=eu.get(this);if(e)return e}let e=U.toHex(this.id);return ea.cacheHexString&&eu.set(this,e),e}static getInc(){return ea.index=(ea.index+1)%0xffffff}static generate(e){"number"!=typeof e&&(e=Math.floor(Date.now()/1e3));let t=ea.getInc(),n=U.allocateUnsafe(12);return j.setInt32BE(n,0,e),null===el&&(el=U.randomBytes(5)),n[4]=el[0],n[5]=el[1],n[6]=el[2],n[7]=el[3],n[8]=el[4],n[11]=255&t,n[10]=t>>8&255,n[9]=t>>16&255,n}toString(e){return"base64"===e?U.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}static is(e){return null!=e&&"object"==typeof e&&"_bsontype"in e&&"ObjectId"===e._bsontype}equals(e){if(null==e)return!1;if(ea.is(e))return this.buffer[11]===e.buffer[11]&&U.equals(this.buffer,e.buffer);if("string"==typeof e)return e.toLowerCase()===this.toHexString();if("object"==typeof e&&"function"==typeof e.toHexString){let t=e.toHexString(),n=this.toHexString();return"string"==typeof t&&t.toLowerCase()===n}return!1}getTimestamp(){let e=new Date,t=j.getUint32BE(this.buffer,0);return e.setTime(1e3*Math.floor(t)),e}static createPk(){return new ea}serializeInto(e,t){return e[t]=this.buffer[0],e[t+1]=this.buffer[1],e[t+2]=this.buffer[2],e[t+3]=this.buffer[3],e[t+4]=this.buffer[4],e[t+5]=this.buffer[5],e[t+6]=this.buffer[6],e[t+7]=this.buffer[7],e[t+8]=this.buffer[8],e[t+9]=this.buffer[9],e[t+10]=this.buffer[10],e[t+11]=this.buffer[11],12}static createFromTime(e){let t=U.allocate(12);for(let e=11;e>=4;e--)t[e]=0;return j.setInt32BE(t,0,e),new ea(t)}static createFromHexString(e){if(e?.length!==24)throw new y("hex string must be 24 characters");return new ea(U.fromHex(e))}static createFromBase64(e){if(e?.length!==16)throw new y("base64 string must be 16 characters");return new ea(U.fromBase64(e))}static isValid(e){if(null==e)return!1;if("string"==typeof e)return ea.validateHexString(e);try{return new ea(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new ea(e.$oid)}isCached(){return ea.cacheHexString&&eu.has(this)}inspect(e,t,n){return n??=c,`new ObjectId(${n(this.toHexString(),t)})`}}function eh(e,t,n){let r=5;if(Array.isArray(e))for(let i=0;i<e.length;i++)r+=eg(i.toString(),e[i],t,!0,n);else for(let i of("function"==typeof e?.toBSON&&(e=e.toBSON()),Object.keys(e)))r+=eg(i,e[i],t,!1,n);return r}function eg(e,t,n=!1,r=!1,i=!1){switch("function"==typeof t?.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+U.utf8ByteLength(e)+1+4+U.utf8ByteLength(t)+1;case"number":if(Math.floor(t)!==t||!(t>=-0x20000000000000)||!(t<=0x20000000000000))return(null!=e?U.utf8ByteLength(e)+1:0)+9;if(t>=-0x80000000&&t<=0x7fffffff)return(null!=e?U.utf8ByteLength(e)+1:0)+5;return(null!=e?U.utf8ByteLength(e)+1:0)+9;case"undefined":if(r||!i)return(null!=e?U.utf8ByteLength(e)+1:0)+1;return 0;case"boolean":return(null!=e?U.utf8ByteLength(e)+1:0)+2;case"object":if(null!=t&&"string"==typeof t._bsontype&&6!==t[b])throw new m;if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?U.utf8ByteLength(e)+1:0)+1;if("ObjectId"===t._bsontype)return(null!=e?U.utf8ByteLength(e)+1:0)+13;else if(t instanceof Date||g(t))return(null!=e?U.utf8ByteLength(e)+1:0)+9;else if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer||u(t))return(null!=e?U.utf8ByteLength(e)+1:0)+6+t.byteLength;else if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?U.utf8ByteLength(e)+1:0)+9;else if("Decimal128"===t._bsontype)return(null!=e?U.utf8ByteLength(e)+1:0)+17;else if("Code"===t._bsontype)if(null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?U.utf8ByteLength(e)+1:0)+1+4+4+U.utf8ByteLength(t.code.toString())+1+eh(t.scope,n,i);else return(null!=e?U.utf8ByteLength(e)+1:0)+1+4+U.utf8ByteLength(t.code.toString())+1;else if("Binary"===t._bsontype){let n=t;if(n.sub_type===R.SUBTYPE_BYTE_ARRAY)return(null!=e?U.utf8ByteLength(e)+1:0)+(n.position+1+4+1+4);return(null!=e?U.utf8ByteLength(e)+1:0)+(n.position+1+4+1)}else if("Symbol"===t._bsontype)return(null!=e?U.utf8ByteLength(e)+1:0)+U.utf8ByteLength(t.value)+4+1+1;else if("DBRef"===t._bsontype){let r=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(r.$db=t.db),(null!=e?U.utf8ByteLength(e)+1:0)+1+eh(r,n,i)}else if(t instanceof RegExp||a(t))return(null!=e?U.utf8ByteLength(e)+1:0)+1+U.utf8ByteLength(t.source)+1+ +!!t.global+ +!!t.ignoreCase+ +!!t.multiline+1;else if("BSONRegExp"===t._bsontype)return(null!=e?U.utf8ByteLength(e)+1:0)+1+U.utf8ByteLength(t.pattern)+1+U.utf8ByteLength(t.options)+1;else return(null!=e?U.utf8ByteLength(e)+1:0)+eh(t,n,i)+1;case"function":if(n)return(null!=e?U.utf8ByteLength(e)+1:0)+1+4+U.utf8ByteLength(t.toString())+1;return 0;case"bigint":return(null!=e?U.utf8ByteLength(e)+1:0)+9;case"symbol":return 0;default:throw new y(`Unrecognized JS type: ${typeof t}`)}}ea.index=Math.floor(0xffffff*Math.random());class ec extends L{get _bsontype(){return"BSONRegExp"}constructor(e,t){if(super(),this.pattern=e,this.options=(t??"").split("").sort().join(""),-1!==this.pattern.indexOf("\0"))throw new y(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(-1!==this.options.indexOf("\0"))throw new y(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let e=0;e<this.options.length;e++)if("i"!==this.options[e]&&"m"!==this.options[e]&&"x"!==this.options[e]&&"l"!==this.options[e]&&"s"!==this.options[e]&&"u"!==this.options[e])throw new y(`The regular expression option [${this.options[e]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e){if("string"==typeof e.$regex)return new ec(e.$regex,ec.parseOptions(e.$options));else if("BSONRegExp"===e.$regex._bsontype)return e}if("$regularExpression"in e)return new ec(e.$regularExpression.pattern,ec.parseOptions(e.$regularExpression.options));throw new y(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}inspect(e,t,n){let r=function(e){if(null!=e&&"object"==typeof e&&"stylize"in e&&"function"==typeof e.stylize)return e.stylize}(t)??(e=>e),i=r((n??=c)(this.pattern),"regexp"),o=r(n(this.options),"regexp");return`new BSONRegExp(${i}, ${o})`}}class eb extends L{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new eb(e.$symbol)}inspect(e,t,n){return n??=c,`new BSONSymbol(${n(this.value,t)})`}}let ed=q;class ep extends ed{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(e){if(null==e)super(0,0,!0);else if("bigint"==typeof e)super(e,!0);else if(q.isLong(e))super(e.low,e.high,!0);else if("object"==typeof e&&"t"in e&&"i"in e){if("number"!=typeof e.t&&("object"!=typeof e.t||"Int32"!==e.t._bsontype))throw new y("Timestamp constructed from { t, i } must provide t as a number");if("number"!=typeof e.i&&("object"!=typeof e.i||"Int32"!==e.i._bsontype))throw new y("Timestamp constructed from { t, i } must provide i as a number");let t=Number(e.t),n=Number(e.i);if(t<0||Number.isNaN(t))throw new y("Timestamp constructed from { t, i } must provide a positive t");if(n<0||Number.isNaN(n))throw new y("Timestamp constructed from { t, i } must provide a positive i");if(t>0xffffffff)throw new y("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(n>0xffffffff)throw new y("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(n,t,!0)}else throw new y("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new ep(q.fromInt(e,!0))}static fromNumber(e){return new ep(q.fromNumber(e,!0))}static fromBits(e,t){return new ep({i:e,t:t})}static fromString(e,t){return new ep(q.fromString(e,!0,t))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(e){let t=q.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i;return new ep({t:q.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t,i:t})}inspect(e,t,n){let r=(n??=c)(this.t,t),i=n(this.i,t);return`new Timestamp({ t: ${r}, i: ${i} })`}}ep.MAX_VALUE=q.MAX_UNSIGNED_VALUE;let ey=q.fromNumber(0x20000000000000),em=q.fromNumber(-0x20000000000000);function ew(e,t,n){let r=(t=null==t?{}:t)&&t.index?t.index:0,i=j.getInt32LE(e,r);if(i<5)throw new y(`bson size must be >= 5, is ${i}`);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new y(`buffer length ${e.length} must be >= bson size ${i}`);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new y(`buffer length ${e.length} must === bson size ${i}`);if(i+r>e.byteLength)throw new y(`(bson size ${i} + options.index ${r} must be <= buffer length ${e.byteLength})`);if(0!==e[r+i-1])throw new y("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return function e(t,n,r,i=!1){let o,s,f=null==r.fieldsAsRaw?null:r.fieldsAsRaw,l=null!=r.raw&&r.raw,u="boolean"==typeof r.bsonRegExp&&r.bsonRegExp,a=r.promoteBuffers??!1,h=r.promoteLongs??!0,g=r.promoteValues??!0,c=r.useBigInt64??!1;if(c&&!g||c&&!h)throw new y("Must either request bigint or Long for int64 deserialization");let b=null==r.validation?{utf8:!0}:r.validation,d=!0,p=b.utf8;if("boolean"==typeof p)o=p;else{d=!1;let e=Object.keys(p).map(function(e){return p[e]});if(0===e.length)throw new y("UTF-8 validation setting cannot be empty");if("boolean"!=typeof e[0])throw new y("Invalid UTF-8 validation option, must specify boolean values");if(o=e[0],!e.every(e=>e===o))throw new y("Invalid UTF-8 validation option - keys must be all true or all false")}if(!d)for(let e of(s=new Set,Object.keys(p)))s.add(e);let m=n;if(t.length<5)throw new y("corrupt bson message < 5 bytes long");let w=j.getInt32LE(t,n);if(n+=4,w<5||w>t.length)throw new y("corrupt bson message");let B=i?[]:{},S=0,E=!i&&null;for(;;){let b,p=t[n++];if(0===p)break;let m=n;for(;0!==t[m]&&m<t.length;)m++;if(m>=t.byteLength)throw new y("Bad BSON Document: illegal CString");let w=i?S++:U.toUTF8(t,n,m,!1),N=!0;if(N=d||s?.has(w)?o:!o,!1!==E&&"$"===w[0]&&(E=eB.test(w)),n=m+1,2===p){let e=j.getInt32LE(t,n);if(n+=4,e<=0||e>t.length-n||0!==t[n+e-1])throw new y("bad string length in bson");b=U.toUTF8(t,n,n+e-1,N),n+=e}else if(7===p){let e=U.allocateUnsafe(12);for(let r=0;r<12;r++)e[r]=t[n+r];b=new ea(e),n+=12}else if(16===p&&!1===g)b=new eo(j.getInt32LE(t,n)),n+=4;else if(16===p)b=j.getInt32LE(t,n),n+=4;else if(1===p)b=j.getFloat64LE(t,n),n+=8,!1===g&&(b=new ei(b));else if(9===p){let e=j.getInt32LE(t,n),r=j.getInt32LE(t,n+4);n+=8,b=new Date(new q(e,r).toNumber())}else if(8===p){if(0!==t[n]&&1!==t[n])throw new y("illegal boolean type value");b=1===t[n++]}else if(3===p){let i=n,o=j.getInt32LE(t,n);if(o<=0||o>t.length-n)throw new y("bad embedded document length in bson");if(l)b=t.subarray(n,n+o);else{let n=r;d||(n={...r,validation:{utf8:N}}),b=e(t,i,n,!1)}n+=o}else if(4===p){let i=n,o=j.getInt32LE(t,n),s=r,l=n+o;if(f&&f[w]&&(s={...r,raw:!0}),d||(s={...s,validation:{utf8:N}}),b=e(t,i,s,!0),0!==t[(n+=o)-1])throw new y("invalid array terminator byte");if(n!==l)throw new y("corrupted array bson")}else if(6===p)b=void 0;else if(10===p)b=null;else if(18===p)if(c)b=j.getBigInt64LE(t,n),n+=8;else{let e=j.getInt32LE(t,n),r=j.getInt32LE(t,n+4);n+=8;let i=new q(e,r);b=h&&!0===g&&i.lessThanOrEqual(ey)&&i.greaterThanOrEqual(em)?i.toNumber():i}else if(19===p){let e=U.allocateUnsafe(16);for(let r=0;r<16;r++)e[r]=t[n+r];n+=16,b=new er(e)}else if(5===p){let e=j.getInt32LE(t,n);n+=4;let r=e,i=t[n++];if(e<0)throw new y("Negative binary type element size found");if(e>t.byteLength)throw new y("Binary type size larger than document size");if(i===R.SUBTYPE_BYTE_ARRAY){if(e=j.getInt32LE(t,n),n+=4,e<0)throw new y("Negative binary type element size found for subtype 0x02");if(e>r-4)throw new y("Binary type with subtype 0x02 contains too long binary size");if(e<r-4)throw new y("Binary type with subtype 0x02 contains too short binary size")}a&&g?b=U.toLocalBufferType(t.subarray(n,n+e)):(b=new R(t.subarray(n,n+e),i),4===i&&C.isValid(b)&&(b=b.toUUID())),n+=e}else if(11===p&&!1===u){for(m=n;0!==t[m]&&m<t.length;)m++;if(m>=t.length)throw new y("Bad BSON Document: illegal CString");let e=U.toUTF8(t,n,m,!1);for(m=n=m+1;0!==t[m]&&m<t.length;)m++;if(m>=t.length)throw new y("Bad BSON Document: illegal CString");let r=U.toUTF8(t,n,m,!1);n=m+1;let i=Array(r.length);for(m=0;m<r.length;m++)switch(r[m]){case"m":i[m]="m";break;case"s":i[m]="g";break;case"i":i[m]="i"}b=new RegExp(e,i.join(""))}else if(11===p&&!0===u){for(m=n;0!==t[m]&&m<t.length;)m++;if(m>=t.length)throw new y("Bad BSON Document: illegal CString");let e=U.toUTF8(t,n,m,!1);for(m=n=m+1;0!==t[m]&&m<t.length;)m++;if(m>=t.length)throw new y("Bad BSON Document: illegal CString");let r=U.toUTF8(t,n,m,!1);n=m+1,b=new ec(e,r)}else if(14===p){let e=j.getInt32LE(t,n);if(n+=4,e<=0||e>t.length-n||0!==t[n+e-1])throw new y("bad string length in bson");let r=U.toUTF8(t,n,n+e-1,N);b=g?r:new eb(r),n+=e}else if(17===p)b=new ep({i:j.getUint32LE(t,n),t:j.getUint32LE(t,n+4)}),n+=8;else if(255===p)b=new ef;else if(127===p)b=new es;else if(13===p){let e=j.getInt32LE(t,n);if(n+=4,e<=0||e>t.length-n||0!==t[n+e-1])throw new y("bad string length in bson");b=new z(U.toUTF8(t,n,n+e-1,N)),n+=e}else if(15===p){let i=j.getInt32LE(t,n);if(n+=4,i<13)throw new y("code_w_scope total size shorter minimum expected length");let o=j.getInt32LE(t,n);if(n+=4,o<=0||o>t.length-n||0!==t[n+o-1])throw new y("bad string length in bson");let s=U.toUTF8(t,n,n+o-1,N),f=n+=o,l=j.getInt32LE(t,n),u=e(t,f,r,!1);if(n+=l,i<8+l+o)throw new y("code_w_scope total size is too short, truncating scope");if(i>8+l+o)throw new y("code_w_scope total size is too long, clips outer document");b=new z(s,u)}else if(12===p){let e=j.getInt32LE(t,n);if(n+=4,e<=0||e>t.length-n||0!==t[n+e-1])throw new y("bad string length in bson");let r=U.toUTF8(t,n,n+e-1,N);n+=e;let i=U.allocateUnsafe(12);for(let e=0;e<12;e++)i[e]=t[n+e];n+=12,b=new P(r,new ea(i))}else throw new y(`Detected unknown BSON type ${p.toString(16)} for fieldname "${w}"`);"__proto__"===w?Object.defineProperty(B,w,{value:b,writable:!0,enumerable:!0,configurable:!0}):B[w]=b}if(w!==n-m){if(i)throw new y("corrupt array bson");throw new y("corrupt object bson")}if(!E)return B;if(M(B)){let e=Object.assign({},B);return delete e.$ref,delete e.$id,delete e.$db,new P(B.$ref,B.$id,B.$db,e)}return B}(e,r,t,n)}let eB=/^\$ref$|^\$id$|^\$db$/,eS=/\x00/,eE=new Set(["$db","$ref","$id","$clusterTime"]);function eN(e,t,n,r){e[r++]=2;let i=U.encodeUTF8Into(e,t,r);e[(r=r+i+1)-1]=0;let o=U.encodeUTF8Into(e,n,r+4);return j.setInt32LE(e,r,o+1),r=r+4+o,e[r++]=0,r}function eO(e,t,n,r){let i=!Object.is(n,-0)&&Number.isSafeInteger(n)&&n<=0x7fffffff&&n>=-0x80000000?16:1;e[r++]=i;let o=U.encodeUTF8Into(e,t,r);return r+=o,e[r++]=0,16===i?r+=j.setInt32LE(e,r,n):r+=j.setFloat64LE(e,r,n),r}function ex(e,t,n,r){e[r++]=18;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,r+=j.setBigInt64LE(e,r,n)}function eI(e,t,n,r){e[r++]=10;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,r}function e_(e,t,n,r){e[r++]=8;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,e[r++]=+!!n,r}function e$(e,t,n,r){e[r++]=9;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=q.fromNumber(n.getTime()),s=o.getLowBits(),f=o.getHighBits();return r+=j.setInt32LE(e,r,s),r+=j.setInt32LE(e,r,f)}function eU(e,t,n,r){e[r++]=11;let i=U.encodeUTF8Into(e,t,r);if(r+=i,e[r++]=0,n.source&&null!=n.source.match(eS))throw new y("value "+n.source+" must not contain null bytes");return r+=U.encodeUTF8Into(e,n.source,r),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function eL(e,t,n,r){e[r++]=11;let i=U.encodeUTF8Into(e,t,r);if(r+=i,e[r++]=0,null!=n.pattern.match(eS))throw new y("pattern "+n.pattern+" must not contain null bytes");r+=U.encodeUTF8Into(e,n.pattern,r),e[r++]=0;let o=n.options.split("").sort().join("");return r+=U.encodeUTF8Into(e,o,r),e[r++]=0,r}function eT(e,t,n,r){null===n?e[r++]=10:"MinKey"===n._bsontype?e[r++]=255:e[r++]=127;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,r}function ev(e,t,n,r){e[r++]=7;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,r+=n.serializeInto(e,r)}function eA(e,t,n,r){e[r++]=5;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=n.length;if(r+=j.setInt32LE(e,r,o),e[r++]=0,o<=16)for(let t=0;t<o;t++)e[r+t]=n[t];else e.set(n,r);return r+o}function ej(e,t,n,r,i,o,s,f,l){if(l.has(n))throw new y("Cannot convert circular structure to BSON");l.add(n),e[r++]=Array.isArray(n)?4:3;let u=U.encodeUTF8Into(e,t,r);r+=u,e[r++]=0;let a=ek(e,n,i,r,o+1,s,f,l);return l.delete(n),a}function eR(e,t,n,r){e[r++]=19;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;for(let t=0;t<16;t++)e[r+t]=n.bytes[t];return r+16}function eF(e,t,n,r){e[r++]="Long"===n._bsontype?18:17;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=n.getLowBits(),s=n.getHighBits();return r+=j.setInt32LE(e,r,o),r+=j.setInt32LE(e,r,s)}function eD(e,t,n,r){n=n.valueOf(),e[r++]=16;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,r+=j.setInt32LE(e,r,n)}function eV(e,t,n,r){e[r++]=1;let i=U.encodeUTF8Into(e,t,r);return r+=i,e[r++]=0,r+=j.setFloat64LE(e,r,n.value)}function eC(e,t,n,r){e[r++]=13;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=n.toString(),s=U.encodeUTF8Into(e,o,r+4)+1;return j.setInt32LE(e,r,s),r=r+4+s-1,e[r++]=0,r}function ez(e,t,n,r,i=!1,o=0,s=!1,f=!0,l){if(n.scope&&"object"==typeof n.scope){e[r++]=15;let u=U.encodeUTF8Into(e,t,r);r+=u,e[r++]=0;let a=r,h=n.code;r+=4;let g=U.encodeUTF8Into(e,h,r+4)+1;j.setInt32LE(e,r,g),e[r+4+g-1]=0,r=r+g+4;let c=ek(e,n.scope,i,r,o+1,s,f,l);r=c-1;let b=c-a;a+=j.setInt32LE(e,a,b),e[r++]=0}else{e[r++]=13;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=n.code.toString(),s=U.encodeUTF8Into(e,o,r+4)+1;j.setInt32LE(e,r,s),r=r+4+s-1,e[r++]=0}return r}function eM(e,t,n,r){e[r++]=5;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=n.buffer,s=n.position;if(n.sub_type===R.SUBTYPE_BYTE_ARRAY&&(s+=4),r+=j.setInt32LE(e,r,s),e[r++]=n.sub_type,n.sub_type===R.SUBTYPE_BYTE_ARRAY&&(s-=4,r+=j.setInt32LE(e,r,s)),n.sub_type===R.SUBTYPE_VECTOR&&F(n),s<=16)for(let t=0;t<s;t++)e[r+t]=o[t];else e.set(o,r);return r+n.position}function eP(e,t,n,r){e[r++]=14;let i=U.encodeUTF8Into(e,t,r);r+=i,e[r++]=0;let o=U.encodeUTF8Into(e,n.value,r+4)+1;return j.setInt32LE(e,r,o),r=r+4+o-1,e[r++]=0,r}function eJ(e,t,n,r,i,o,s){e[r++]=3;let f=U.encodeUTF8Into(e,t,r);r+=f,e[r++]=0;let l=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);let a=ek(e,u=Object.assign(u,n.fields),!1,r,i+1,o,!0,s),h=a-l;return l+=j.setInt32LE(e,r,h),a}function ek(e,t,n,r,i,o,s,f){if(null==f){if(null==t)return e[0]=5,e[1]=0,e[2]=0,e[3]=0,e[4]=0,5;if(Array.isArray(t))throw new y("serialize does not support an array as the root input");if("object"!=typeof t)throw new y("serialize does not support non-object as the root input");if("_bsontype"in t&&"string"==typeof t._bsontype)throw new y("BSON types cannot be serialized as a document");if(g(t)||a(t)||l(t)||u(t))throw new y("date, regexp, typedarray, and arraybuffer cannot be BSON documents");f=new Set}f.add(t);let c=r+4;if(Array.isArray(t))for(let r=0;r<t.length;r++){let u=`${r}`,h=t[r];"function"==typeof h?.toBSON&&(h=h.toBSON());let d=typeof h;if(void 0===h)c=eI(e,u,h,c);else if(null===h)c=eI(e,u,h,c);else if("string"===d)c=eN(e,u,h,c);else if("number"===d)c=eO(e,u,h,c);else if("bigint"===d)c=ex(e,u,h,c);else if("boolean"===d)c=e_(e,u,h,c);else if("object"===d&&null==h._bsontype)c=h instanceof Date||g(h)?e$(e,u,h,c):h instanceof Uint8Array||l(h)?eA(e,u,h,c):h instanceof RegExp||a(h)?eU(e,u,h,c):ej(e,u,h,c,n,i,o,s,f);else if("object"===d){if(6!==h[b])throw new m;else if("ObjectId"===h._bsontype)c=ev(e,u,h,c);else if("Decimal128"===h._bsontype)c=eR(e,u,h,c);else if("Long"===h._bsontype||"Timestamp"===h._bsontype)c=eF(e,u,h,c);else if("Double"===h._bsontype)c=eV(e,u,h,c);else if("Code"===h._bsontype)c=ez(e,u,h,c,n,i,o,s,f);else if("Binary"===h._bsontype)c=eM(e,u,h,c);else if("BSONSymbol"===h._bsontype)c=eP(e,u,h,c);else if("DBRef"===h._bsontype)c=eJ(e,u,h,c,i,o,f);else if("BSONRegExp"===h._bsontype)c=eL(e,u,h,c);else if("Int32"===h._bsontype)c=eD(e,u,h,c);else if("MinKey"===h._bsontype||"MaxKey"===h._bsontype)c=eT(e,u,h,c);else if(void 0!==h._bsontype)throw new y(`Unrecognized or invalid _bsontype: ${String(h._bsontype)}`)}else"function"===d&&o&&(c=eC(e,u,h,c))}else if(t instanceof Map||h(t)){let r=t.entries(),u=!1;for(;!u;){let t=r.next();if(u=!!t.done)continue;let h=t.value?t.value[0]:void 0,d=t.value?t.value[1]:void 0;"function"==typeof d?.toBSON&&(d=d.toBSON());let p=typeof d;if("string"==typeof h&&!eE.has(h)){if(null!=h.match(eS))throw new y("key "+h+" must not contain null bytes");if(n){if("$"===h[0])throw new y("key "+h+" must not start with '$'");else if(h.includes("."))throw new y("key "+h+" must not contain '.'")}}if(void 0===d)!1===s&&(c=eI(e,h,d,c));else if(null===d)c=eI(e,h,d,c);else if("string"===p)c=eN(e,h,d,c);else if("number"===p)c=eO(e,h,d,c);else if("bigint"===p)c=ex(e,h,d,c);else if("boolean"===p)c=e_(e,h,d,c);else if("object"===p&&null==d._bsontype)c=d instanceof Date||g(d)?e$(e,h,d,c):d instanceof Uint8Array||l(d)?eA(e,h,d,c):d instanceof RegExp||a(d)?eU(e,h,d,c):ej(e,h,d,c,n,i,o,s,f);else if("object"===p){if(6!==d[b])throw new m;else if("ObjectId"===d._bsontype)c=ev(e,h,d,c);else if("Decimal128"===d._bsontype)c=eR(e,h,d,c);else if("Long"===d._bsontype||"Timestamp"===d._bsontype)c=eF(e,h,d,c);else if("Double"===d._bsontype)c=eV(e,h,d,c);else if("Code"===d._bsontype)c=ez(e,h,d,c,n,i,o,s,f);else if("Binary"===d._bsontype)c=eM(e,h,d,c);else if("BSONSymbol"===d._bsontype)c=eP(e,h,d,c);else if("DBRef"===d._bsontype)c=eJ(e,h,d,c,i,o,f);else if("BSONRegExp"===d._bsontype)c=eL(e,h,d,c);else if("Int32"===d._bsontype)c=eD(e,h,d,c);else if("MinKey"===d._bsontype||"MaxKey"===d._bsontype)c=eT(e,h,d,c);else if(void 0!==d._bsontype)throw new y(`Unrecognized or invalid _bsontype: ${String(d._bsontype)}`)}else"function"===p&&o&&(c=eC(e,h,d,c))}}else{if("function"==typeof t?.toBSON&&null!=(t=t.toBSON())&&"object"!=typeof t)throw new y("toBSON function did not return an object");for(let r of Object.keys(t)){let u=t[r];"function"==typeof u?.toBSON&&(u=u.toBSON());let h=typeof u;if("string"==typeof r&&!eE.has(r)){if(null!=r.match(eS))throw new y("key "+r+" must not contain null bytes");if(n){if("$"===r[0])throw new y("key "+r+" must not start with '$'");else if(r.includes("."))throw new y("key "+r+" must not contain '.'")}}if(void 0===u)!1===s&&(c=eI(e,r,u,c));else if(null===u)c=eI(e,r,u,c);else if("string"===h)c=eN(e,r,u,c);else if("number"===h)c=eO(e,r,u,c);else if("bigint"===h)c=ex(e,r,u,c);else if("boolean"===h)c=e_(e,r,u,c);else if("object"===h&&null==u._bsontype)c=u instanceof Date||g(u)?e$(e,r,u,c):u instanceof Uint8Array||l(u)?eA(e,r,u,c):u instanceof RegExp||a(u)?eU(e,r,u,c):ej(e,r,u,c,n,i,o,s,f);else if("object"===h){if(6!==u[b])throw new m;else if("ObjectId"===u._bsontype)c=ev(e,r,u,c);else if("Decimal128"===u._bsontype)c=eR(e,r,u,c);else if("Long"===u._bsontype||"Timestamp"===u._bsontype)c=eF(e,r,u,c);else if("Double"===u._bsontype)c=eV(e,r,u,c);else if("Code"===u._bsontype)c=ez(e,r,u,c,n,i,o,s,f);else if("Binary"===u._bsontype)c=eM(e,r,u,c);else if("BSONSymbol"===u._bsontype)c=eP(e,r,u,c);else if("DBRef"===u._bsontype)c=eJ(e,r,u,c,i,o,f);else if("BSONRegExp"===u._bsontype)c=eL(e,r,u,c);else if("Int32"===u._bsontype)c=eD(e,r,u,c);else if("MinKey"===u._bsontype||"MaxKey"===u._bsontype)c=eT(e,r,u,c);else if(void 0!==u._bsontype)throw new y(`Unrecognized or invalid _bsontype: ${String(u._bsontype)}`)}else"function"===h&&o&&(c=eC(e,r,u,c))}}f.delete(t),e[c++]=0;let d=c-r;return r+=j.setInt32LE(e,r,d),c}let eY={$oid:ea,$binary:R,$uuid:R,$symbol:eb,$numberInt:eo,$numberDecimal:er,$numberDouble:ei,$numberLong:q,$minKey:ef,$maxKey:es,$regex:ec,$regularExpression:ec,$timestamp:ep};function eH(e){let t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}let eq={Binary:e=>new R(e.value(),e.sub_type),Code:e=>new z(e.code,e.scope),DBRef:e=>new P(e.collection||e.namespace,e.oid,e.db,e.fields),Decimal128:e=>new er(e.bytes),Double:e=>new ei(e.value),Int32:e=>new eo(e.value),Long:e=>q.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_),MaxKey:()=>new es,MinKey:()=>new ef,ObjectId:e=>new ea(e),BSONRegExp:e=>new ec(e.pattern,e.options),BSONSymbol:e=>new eb(e.value),Timestamp:e=>ep.fromBits(e.low,e.high)};function eZ(e,t){let n={useBigInt64:t?.useBigInt64??!1,relaxed:t?.relaxed??!0,legacy:t?.legacy??!1};return JSON.parse(e,(e,t)=>{if(-1!==e.indexOf("\0"))throw new y(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(e)}`);return function e(t,n={}){if("number"==typeof t){let e=t<=0x7fffffff&&t>=-0x80000000,r=t<=d&&t>=-0x8000000000000000;if(n.relaxed||n.legacy)return t;if(Number.isInteger(t)&&!Object.is(t,-0)){if(e)return new eo(t);if(r)return n.useBigInt64?BigInt(t):q.fromNumber(t)}return new ei(t)}if(null==t||"object"!=typeof t)return t;if(t.$undefined)return null;let r=Object.keys(t).filter(e=>e.startsWith("$")&&null!=t[e]);for(let e=0;e<r.length;e++){let i=eY[r[e]];if(i)return i.fromExtendedJSON(t,n)}if(null!=t.$date){let e=t.$date,r=new Date;if(n.legacy)if("number"==typeof e)r.setTime(e);else if("string"==typeof e)r.setTime(Date.parse(e));else if("bigint"==typeof e)r.setTime(Number(e));else throw new w(`Unrecognized type for EJSON date: ${typeof e}`);else if("string"==typeof e)r.setTime(Date.parse(e));else if(q.isLong(e))r.setTime(e.toNumber());else if("number"==typeof e&&n.relaxed)r.setTime(e);else if("bigint"==typeof e)r.setTime(Number(e));else throw new w(`Unrecognized type for EJSON date: ${typeof e}`);return r}if(null!=t.$code){let n=Object.assign({},t);return t.$scope&&(n.$scope=e(t.$scope)),z.fromExtendedJSON(t)}if(M(t)||t.$dbPointer){let e=t.$ref?t:t.$dbPointer;if(e instanceof P)return e;let n=Object.keys(e).filter(e=>e.startsWith("$")),r=!0;if(n.forEach(e=>{-1===["$ref","$id","$db"].indexOf(e)&&(r=!1)}),r)return P.fromExtendedJSON(e)}return t}(t,n)})}function eK(e,t,n,r){return null!=n&&"object"==typeof n&&(r=n,n=0),null==t||"object"!=typeof t||Array.isArray(t)||(r=t,t=void 0,n=0),JSON.stringify(function e(t,n){if(t instanceof Map||h(t)){let r=Object.create(null);for(let[e,n]of t){if("string"!=typeof e)throw new y("Can only serialize maps with string keys");r[e]=n}return e(r,n)}if(("object"==typeof t||"function"==typeof t)&&null!==t){let e=n.seenObjects.findIndex(e=>e.obj===t);if(-1!==e){let t=n.seenObjects.map(e=>e.propertyName),r=t.slice(0,e).map(e=>`${e} -> `).join(""),i=t[e],o=" -> "+t.slice(e+1,t.length-1).map(e=>`${e} -> `).join(""),s=t[t.length-1],f=" ".repeat(r.length+i.length/2),l="-".repeat(o.length+(i.length+s.length)/2-1);throw new y(`Converting circular structure to EJSON:
    ${r}${i}${o}${s}
    ${f}\\${l}/`)}n.seenObjects[n.seenObjects.length-1].obj=t}if(Array.isArray(t))return t.map((t,r)=>{n.seenObjects.push({propertyName:`index ${r}`,obj:null});try{return e(t,n)}finally{n.seenObjects.pop()}});if(void 0===t)return null;if(t instanceof Date||g(t)){let e=t.getTime(),r=e>-1&&e<2534023188e5;return n.legacy?n.relaxed&&r?{$date:t.getTime()}:{$date:eH(t)}:n.relaxed&&r?{$date:eH(t)}:{$date:{$numberLong:t.getTime().toString()}}}if("number"==typeof t&&(!n.relaxed||!isFinite(t))){if(Number.isInteger(t)&&!Object.is(t,-0)){if(t>=-0x80000000&&t<=0x7fffffff)return{$numberInt:t.toString()};if(t>=-0x8000000000000000&&t<=d)return{$numberLong:t.toString()}}return{$numberDouble:Object.is(t,-0)?"-0.0":t.toString()}}if("bigint"==typeof t)return n.relaxed?Number(BigInt.asIntN(64,t)):{$numberLong:BigInt.asIntN(64,t).toString()};if(t instanceof RegExp||a(t)){let e=t.flags;if(void 0===e){let n=t.toString().match(/[gimuy]*$/);n&&(e=n[0])}return new ec(t.source,e).toExtendedJSON(n)}return null!=t&&"object"==typeof t?function(t,n){if(null==t||"object"!=typeof t)throw new y("not an object instance");let r=t._bsontype;if(void 0===r){let r={};for(let i of Object.keys(t)){n.seenObjects.push({propertyName:i,obj:null});try{let o=e(t[i],n);"__proto__"===i?Object.defineProperty(r,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):r[i]=o}finally{n.seenObjects.pop()}}return r}if(null!=t&&"object"==typeof t&&"string"==typeof t._bsontype&&6!==t[b])throw new m;if(null!=t&&"object"==typeof t&&"_bsontype"in t&&"string"==typeof t._bsontype){let i=t;if("function"!=typeof i.toExtendedJSON){let e=eq[t._bsontype];if(!e)throw new y("Unrecognized or invalid _bsontype: "+t._bsontype);i=e(i)}return"Code"===r&&i.scope?i=new z(i.code,e(i.scope,n)):"DBRef"===r&&i.oid&&(i=new P(e(i.collection,n),e(i.oid,n),e(i.db,n),e(i.fields,n))),i.toExtendedJSON(n)}throw new y("_bsontype must be a string, but was: "+typeof r)}(t,n):t}(e,Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]})),t,n)}let eW=Object.create(null);function eG(e,t){try{return j.getNonnegativeInt32LE(e,t)}catch(e){throw new B("BSON size cannot be negative",t,{cause:e})}}function eX(e,t){let n=t;for(;0!==e[n];n++);if(n===e.length-1)throw new B("Null terminator not found",t);return n}eW.parse=eZ,eW.stringify=eK,eW.serialize=function(e,t){return JSON.parse(eK(e,t=t||{}))},eW.deserialize=function(e,t){return t=t||{},eZ(JSON.stringify(e),t)},Object.freeze(eW);let eQ=Object.create(null);eQ.parseToElements=function(e,t=0){if(t??=0,e.length<5)throw new B(`Input must be at least 5 bytes, got ${e.length} bytes`,t);let n=eG(e,t);if(n>e.length-t)throw new B(`Parsed documentSize (${n} bytes) does not match input length (${e.length} bytes)`,t);if(0!==e[t+n-1])throw new B("BSON documents must end in 0x00",t+n);let r=[],i=t+4;for(;i<=n+t;){let o,s=e[i];if(i+=1,0===s){if(i-t!==n)throw new B("Invalid 0x00 type byte",i);break}let f=i,l=eX(e,i)-f;if(i+=l+1,1===s||18===s||9===s||17===s)o=8;else if(16===s)o=4;else if(7===s)o=12;else if(19===s)o=16;else if(8===s)o=1;else if(10===s||6===s||127===s||255===s)o=0;else if(11===s)o=eX(e,eX(e,i)+1)+1-i;else if(3===s||4===s||15===s)o=eG(e,i);else if(2===s||5===s||12===s||13===s||14===s)o=eG(e,i)+4,5===s&&(o+=1),12===s&&(o+=12);else throw new B(`Invalid 0x${s.toString(16).padStart(2,"0")} type byte`,i);if(o>n)throw new B("value reports length larger than document",i);r.push([s,f,l,i,o]),i+=o}return r},eQ.ByteUtils=U,eQ.NumberUtils=j,Object.freeze(eQ);let e0=U.allocate(0x1100000);function e1(e){e0.length<e&&(e0=U.allocate(e))}function e2(e,t={}){let n="boolean"==typeof t.checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,o="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:0x1100000;e0.length<o&&(e0=U.allocate(o));let s=ek(e0,e,n,0,0,r,i,null),f=U.allocateUnsafe(s);return f.set(e0.subarray(0,s),0),f}function e3(e,t,n={}){let r="boolean"==typeof n.checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,f=ek(e0,e,r,0,0,i,o,null);return t.set(e0.subarray(0,f),s),s+f-1}function e6(e,t={}){return ew(U.toLocalBufferType(e),t)}function e8(e,t={}){return eh(e,"boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,"boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined)}function e5(e,t,n,r,i,o){let s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},o),f=U.toLocalBufferType(e),l=t;for(let e=0;e<n;e++){let t=j.getInt32LE(f,l);s.index=l,r[i+e]=ew(f,s),l+=t}return l}t.BSON=Object.freeze({__proto__:null,BSONError:y,BSONOffsetError:B,BSONRegExp:ec,BSONRuntimeError:w,BSONSymbol:eb,BSONType:p,BSONValue:L,BSONVersionError:m,Binary:R,Code:z,DBRef:P,Decimal128:er,Double:ei,EJSON:eW,Int32:eo,Long:q,MaxKey:es,MinKey:ef,ObjectId:ea,Timestamp:ep,UUID:C,calculateObjectSize:e8,deserialize:e6,deserializeStream:e5,onDemand:eQ,serialize:e2,serializeWithBufferAndIndex:e3,setInternalBufferSize:e1}),t.BSONError=y,t.BSONOffsetError=B,t.BSONRegExp=ec,t.BSONRuntimeError=w,t.BSONSymbol=eb,t.BSONType=p,t.BSONValue=L,t.BSONVersionError=m,t.Binary=R,t.Code=z,t.DBRef=P,t.Decimal128=er,t.Double=ei,t.EJSON=eW,t.Int32=eo,t.Long=q,t.MaxKey=es,t.MinKey=ef,t.ObjectId=ea,t.Timestamp=ep,t.UUID=C,t.calculateObjectSize=e8,t.deserialize=e6,t.deserializeStream=e5,t.onDemand=eQ,t.serialize=e2,t.serializeWithBufferAndIndex=e3,t.setInternalBufferSize=e1}}]);