"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{69412:(e,t,n)=>{n.d(t,{CognitoIdentityClient:()=>eh,GetCredentialsForIdentityCommand:()=>e6,GetIdCommand:()=>e3});var i=n(88702),o=n(14787),s=n(6288),r=n(3603),a=n(63373),c=n(14481),d=n(61112),p=n(69783),u=n(769),l=n(50379),y=n(51789),h=n(88294);let m=async(e,t,n)=>({operation:(0,h.u)(t).operation,region:await (0,h.t)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),f=e=>{let t=[];switch(e.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},g=e=>Object.assign((0,y.h)(e),{authSchemePreference:(0,h.t)(e.authSchemePreference??[])}),w=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),x={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},E={rE:"3.803.0"};var S=n(47604),v=n(53510),P=n(1237),I=n(96198),b=n(33206),C=n(5751),$=n(23112),O=n(9148),k=n(75964),A=n(31204),z=n(81265),R=n(22873),D=n(44362);let M="required",j="argv",F="isSet",N="booleanEquals",U="error",q="endpoint",T="tree",G="PartitionResult",L="getAttr",K="stringEquals",H={[M]:!1,type:"String"},B={[M]:!0,default:!1,type:"Boolean"},_={ref:"Endpoint"},W={fn:N,[j]:[{ref:"UseFIPS"},!0]},J={fn:N,[j]:[{ref:"UseDualStack"},!0]},V={},Y={ref:"Region"},Q={fn:L,[j]:[{ref:G},"supportsFIPS"]},X={ref:G},Z={fn:N,[j]:[!0,{fn:L,[j]:[X,"supportsDualStack"]}]},ee=[W],et=[J],en=[Y],ei={version:"1.0",parameters:{Region:H,UseDualStack:B,UseFIPS:B,Endpoint:H},rules:[{conditions:[{fn:F,[j]:[_]}],rules:[{conditions:ee,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:U},{conditions:et,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:U},{endpoint:{url:_,properties:V,headers:V},type:q}],type:T},{conditions:[{fn:F,[j]:en}],rules:[{conditions:[{fn:"aws.partition",[j]:en,assign:G}],rules:[{conditions:[W,J],rules:[{conditions:[{fn:N,[j]:[!0,Q]},Z],rules:[{conditions:[{fn:K,[j]:[Y,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:V,headers:V},type:q},{conditions:[{fn:K,[j]:[Y,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:V,headers:V},type:q},{conditions:[{fn:K,[j]:[Y,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:V,headers:V},type:q},{conditions:[{fn:K,[j]:[Y,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:V,headers:V},type:q},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:q}],type:T},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:U}],type:T},{conditions:ee,rules:[{conditions:[{fn:N,[j]:[Q,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:q}],type:T},{error:"FIPS is enabled but this partition does not support FIPS",type:U}],type:T},{conditions:et,rules:[{conditions:[Z],rules:[{conditions:[{fn:K,[j]:["aws",{fn:L,[j]:[X,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:V,headers:V},type:q},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:q}],type:T},{error:"DualStack is enabled but this partition does not support DualStack",type:U}],type:T},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:q}],type:T}],type:T},{error:"Invalid Configuration: Missing Region",type:U}]},eo=new D.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),es=(e,t={})=>eo.get(e,()=>(0,D.sO)(ei,{endpointParams:e,logger:t.logger}));D.mw.aws=R.UF;let er=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??k.E,base64Encoder:e?.base64Encoder??k.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??es,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??f,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new $.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.mR}],logger:e?.logger??new l.N4,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??O.D,utf8Decoder:e?.utf8Decoder??A.a,utf8Encoder:e?.utf8Encoder??z.P});var ea=n(8725);let ec=e=>{let t=(0,ea.I)(e),n=()=>t().then(l.lT),i=er(e);return{...i,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??b.n,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,v.p)({serviceId:i.serviceId,clientVersion:E.rE}),maxAttempts:e?.maxAttempts??C.Gz,region:e?.region??(0,I.B)("Region is missing"),requestHandler:P.NC.create(e?.requestHandler??n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||C.L0),sha256:e?.sha256??S.I,streamCollector:e?.streamCollector??P.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(a.VW)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(a.Hj))}};var ed=n(66264),ep=n(76325);let eu=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){i=e},credentials:()=>i}},el=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ey=(e,t)=>{let n=Object.assign((0,ed.Rq)(e),(0,l.xA)(e),(0,ep.eS)(e),eu(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,ed.$3)(n),(0,l.uv)(n),(0,ep.jt)(n),el(n))};class eh extends l.Kj{config;constructor(...[e]){let t=ec(e||{});super(t),this.initConfig=t;let n=w(t),l=(0,r.Dc)(n),y=(0,u.$z)(l),h=(0,a.TD)(y),f=(0,i.OV)(h),x=ey(g((0,p.Co)(f)),e?.extensions||[]);this.config=x,this.middlewareStack.use((0,r.sM)(this.config)),this.middlewareStack.use((0,u.ey)(this.config)),this.middlewareStack.use((0,d.vK)(this.config)),this.middlewareStack.use((0,i.TC)(this.config)),this.middlewareStack.use((0,o.Y7)(this.config)),this.middlewareStack.use((0,s.n4)(this.config)),this.middlewareStack.use((0,c.wB)(this.config,{httpAuthSchemeParametersProvider:m,identityProviderConfigProvider:async e=>new c.h$({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.lW)(this.config))}destroy(){super.destroy()}}var em=n(48069);class ef extends l.TJ{constructor(e){super(e),Object.setPrototypeOf(this,ef.prototype)}}class eg extends ef{name="InternalErrorException";$fault="server";constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),Object.setPrototypeOf(this,eg.prototype)}}class ew extends ef{name="InvalidParameterException";$fault="client";constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,ew.prototype)}}class ex extends ef{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,ex.prototype)}}class eE extends ef{name="NotAuthorizedException";$fault="client";constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,eE.prototype)}}class eS extends ef{name="ResourceConflictException";$fault="client";constructor(e){super({name:"ResourceConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,eS.prototype)}}class ev extends ef{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,ev.prototype)}}class eP extends ef{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,eP.prototype)}}class eI extends ef{name="ExternalServiceException";$fault="client";constructor(e){super({name:"ExternalServiceException",$fault:"client",...e}),Object.setPrototypeOf(this,eI.prototype)}}class eb extends ef{name="InvalidIdentityPoolConfigurationException";$fault="client";constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e}),Object.setPrototypeOf(this,eb.prototype)}}class eC extends ef{name="DeveloperUserAlreadyRegisteredException";$fault="client";constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e}),Object.setPrototypeOf(this,eC.prototype)}}class e$ extends ef{name="ConcurrentModificationException";$fault="client";constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),Object.setPrototypeOf(this,e$.prototype)}}let eO=e=>({...e,...e.Logins&&{Logins:l.$H}}),ek=e=>({...e,...e.SecretKey&&{SecretKey:l.$H}}),eA=e=>({...e,...e.Credentials&&{Credentials:ek(e.Credentials)}}),ez=e=>({...e,...e.Logins&&{Logins:l.$H}});var eR=n(55811);let eD=(e,t)=>(0,eR.w)(e,t).then(e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw t?.name==="SyntaxError"&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}}),eM=async(e,t)=>{let n=await eD(e,t);return n.message=n.message??n.Message,n},ej=(e,t)=>{let n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=Object.keys(e.headers).find(e=>"x-amzn-errortype"===e.toLowerCase());return void 0!==i?n(e.headers[i]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0},eF=async(e,t)=>e2(t,e4("GetCredentialsForIdentity"),"/",void 0,JSON.stringify((0,l.Ss)(e))),eN=async(e,t)=>e2(t,e4("GetId"),"/",void 0,JSON.stringify((0,l.Ss)(e))),eU=async(e,t)=>{if(e.statusCode>=300)return eT(e,t);let n=await eD(e.body,t),i={};return i=eZ(n,t),{$metadata:e0(e),...i}},eq=async(e,t)=>{if(e.statusCode>=300)return eT(e,t);let n=await eD(e.body,t),i={};return i=(0,l.Ss)(n),{$metadata:e0(e),...i}},eT=async(e,t)=>{let n={...e,body:await eM(e.body,t)},i=ej(e,n.body);switch(i){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await eH(n,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await e_(n,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await eW(n,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await eJ(n,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await eV(n,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await eQ(n,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await eY(n,t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await eK(n,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await eB(n,t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await eL(n,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await eG(n,t);default:return e1({output:e,parsedBody:n.body,errorCode:i})}},eG=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new e$({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eL=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eC({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eK=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eI({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eH=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eg({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eB=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eb({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},e_=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new ew({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eW=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new ex({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eJ=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eE({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eV=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eS({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eY=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new eP({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eQ=async(e,t)=>{let n=e.body,i=(0,l.Ss)(n),o=new ev({$metadata:e0(e),...i});return(0,l.Mw)(o,n)},eX=(e,t)=>(0,l.s)(e,{AccessKeyId:l.lK,Expiration:e=>(0,l.Y0)((0,l.l3)((0,l.r$)(e))),SecretKey:l.lK,SessionToken:l.lK}),eZ=(e,t)=>(0,l.s)(e,{Credentials:e=>eX(e,t),IdentityId:l.lK}),e0=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),e1=(0,l.jr)(ef),e2=async(e,t,n,i,o)=>{let{hostname:s,protocol:r="https",port:a,path:c}=await e.endpoint(),d={protocol:r,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==i&&(d.hostname=i),void 0!==o&&(d.body=o),new ep.Kd(d)};function e4(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class e6 extends l.uB.classBuilder().ep(x).m(function(e,t,n,i){return[(0,em.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(eO,eA).ser(eF).de(eU).build(){}class e3 extends l.uB.classBuilder().ep(x).m(function(e,t,n,i){return[(0,em.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(ez,void 0).ser(eN).de(eq).build(){}}}]);